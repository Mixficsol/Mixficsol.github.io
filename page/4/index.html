<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/page/4/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-LG3369(Treap树模板)" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/04/17/LG3369(Treap%E6%A0%91%E6%A8%A1%E6%9D%BF)/" class="article-date">
  <time class="dt-published" datetime="2023-04-17T02:24:04.013Z" itemprop="datePublished">2023-04-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/04/17/LG3369(Treap%E6%A0%91%E6%A8%A1%E6%9D%BF)/">LG3369(Treap树模版)</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <span id="more"></span>

<p>日期 2022 &#x2F; 5 &#x2F; 3<br><img width="1104" alt="截屏2022-05-03 21 39 52" src="https://user-images.githubusercontent.com/73943232/166463633-20202bd4-669a-4f15-8fc1-071c4e0f76ab.png"></p>
<p>题目链接:<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P3369">https://www.luogu.com.cn/problem/P3369</a></p>
<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><blockquote>
<p>您需要写一种数据结构（可参考题目标题），来维护一些数，其中需要提供以下操作：<br>插入x数<br>删除x数(若有多个相同的数，因只删除一个)<br>查询x数的排名(排名定义为比当前数小的数的个数+1。若有多个相同的数，因输出最小的排名)<br>查询排名为x的数<br>求x的前驱(前驱定义为小于xx，且最大的数)<br>求x的后继(后继定义为大于xx，且最小的数)</p>
</blockquote>
<h2 id="输入输出格式"><a href="#输入输出格式" class="headerlink" title="输入输出格式"></a>输入输出格式</h2><h3 id="输入格式："><a href="#输入格式：" class="headerlink" title="输入格式："></a>输入格式：</h3><blockquote>
<p>第一行为n，表示操作的个数,下面n行每行有两个数opt和x，opt表示操作的序号( 1≤opt≤6 )</p>
</blockquote>
<h3 id="输出格式："><a href="#输出格式：" class="headerlink" title="输出格式："></a>输出格式：</h3><blockquote>
<p>对于操作3,4,5,6每行输出一个数，表示对应答案</p>
</blockquote>
<h3 id="输入输出样例"><a href="#输入输出样例" class="headerlink" title="输入输出样例"></a>输入输出样例</h3><h3 id="输入样例-1："><a href="#输入样例-1：" class="headerlink" title="输入样例#1："></a>输入样例#1：</h3><blockquote>
<p>10</p>
<p>1 106465</p>
<p>4 1</p>
<p>1 317721</p>
<p>1 460929</p>
<p>1 644985</p>
<p>1 84185</p>
<p>1 89851</p>
<p>6 81968</p>
<p>1 492737</p>
<p>5 493598</p>
</blockquote>
<h3 id="输出样例-1："><a href="#输出样例-1：" class="headerlink" title="输出样例#1："></a>输出样例#1：</h3><blockquote>
<p>106465</p>
<p>84185</p>
<p>492737</p>
</blockquote>
<h1 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h1><blockquote>
<p>这个一个Treap树的模板题，包括了插入删除，查询等操作.Treap树是一种平衡二叉搜索树，它与AVL,红黑树，Spaly树一样都是平衡二叉搜索树，Treap里面有6个属性，在常规的键值，左儿子，右儿子属性的基础上，Treap树还有一个val的优先级参数，这个参数很重要，我们只要BST树的特征是：1、树中每个节点都有一个权值2、若左子树非空，则左子树上所有节点的权值均小于根节点的权值。3、若右子树非空，则右子树上所有节点的权值均大于根节点的权值。4、左右子树也分别为二叉查找树。所以如果数据插入顺序不恰当的话这颗树很可能退化成一个链表，所以val属性确保了树的基本平衡，还有一个属性就是cnt表示当前键值的重复个数，以及size用来表示所有节点的个数。</p>
</blockquote>
<h1 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> INF 0x3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> L tree[i].left <span class="comment">// 代表根节点为i的左二子</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> R tree[i].right <span class="comment">// 代表根节点为i的右儿子</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> N = <span class="number">1e5</span> + <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Tree</span> &#123;</span><br><span class="line">  <span class="type">int</span> left, right;  <span class="comment">// 左右节点编号</span></span><br><span class="line">  <span class="type">int</span> key, val;  <span class="comment">// key是键值大小，val表示由rand()函数分配的优先级，不断旋转保证编号大的点一定在编号小的点的上方	</span></span><br><span class="line">  <span class="type">int</span> cnt, size; <span class="comment">// cnt表示键值key的点有多少个，size表示以i为根的树有多少个点</span></span><br><span class="line">&#125; tree[N];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> root, idx;	<span class="comment">//  root表示根节点，idx代表节点编号</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">pushup</span><span class="params">(<span class="type">int</span> i)</span> </span>&#123; <span class="comment">// 统计以i为根节点的树一共有多少个点</span></span><br><span class="line">  tree[i].size = tree[L].size + tree[R].size + tree[i].cnt; <span class="comment">// 总的节点 = 左子树的节点 + 右子树的节点 + 该节点上重复的节点数</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getNode</span><span class="params">(<span class="type">int</span> key)</span> </span>&#123;	<span class="comment">// 新建节点</span></span><br><span class="line">  tree[++idx].key = key; <span class="comment">//确定键值</span></span><br><span class="line">  tree[idx].val = <span class="built_in">rand</span>();	<span class="comment">//随机分配优先级</span></span><br><span class="line">  tree[idx].cnt = tree[idx].size = <span class="number">1</span>;	</span><br><span class="line">  <span class="keyword">return</span> idx;	<span class="comment">// 返回节点编号		</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">zig</span><span class="params">(<span class="type">int</span> &amp;i)</span> </span>&#123;   <span class="comment">//右旋</span></span><br><span class="line">  <span class="type">int</span> q; </span><br><span class="line">  q = L; <span class="comment">// L表示tree[i].left</span></span><br><span class="line">  L = tree[q].right; <span class="comment">// 将tree[i].left设置为之前tree[i].left的右孩子</span></span><br><span class="line">  tree[q].right = i; <span class="comment">// 将旋转后的节点的右孩子设置为旋转前的根节点</span></span><br><span class="line">  i = q; <span class="comment">//将根节点设置为旋转后的节点</span></span><br><span class="line">  <span class="built_in">pushup</span>(R); <span class="comment">// 重新统计节点个数</span></span><br><span class="line">  <span class="built_in">pushup</span>(i); <span class="comment">// 重新统计节点个数</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">zag</span><span class="params">(<span class="type">int</span> &amp;i)</span> </span>&#123;    <span class="comment">//左旋，原理与上面相似</span></span><br><span class="line">  <span class="type">int</span> q;</span><br><span class="line">  q = R;</span><br><span class="line">  R = tree[q].left;</span><br><span class="line">  tree[q].left = i;</span><br><span class="line">  i = q;</span><br><span class="line">  <span class="built_in">pushup</span>(L);</span><br><span class="line">  <span class="built_in">pushup</span>(i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">insert</span><span class="params">(<span class="type">int</span> &amp;i, <span class="type">int</span> key)</span> </span>&#123;	 <span class="comment">// 插入数据操作</span></span><br><span class="line">  <span class="keyword">if</span> (!i) &#123; <span class="comment">//如果没有根节点，则新建根节点</span></span><br><span class="line">    i = <span class="built_in">getNode</span>(key);	</span><br><span class="line">  &#125;	</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (tree[i].key == key) &#123; <span class="comment">//如果键值大小和根节点一样就加到cnt</span></span><br><span class="line">    tree[i].cnt++;	</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (tree[i].key &gt; key) &#123;	<span class="comment">//如果键值小于根节点则插入左孩子	</span></span><br><span class="line">    <span class="built_in">insert</span>(L, key);</span><br><span class="line">    <span class="keyword">if</span> (tree[L].val &gt; tree[i].val) &#123; <span class="comment">// 如果当前节点的优先级大于根节点则右旋</span></span><br><span class="line">      <span class="built_in">zig</span>(i);		</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;		 <span class="comment">//如果键值大于根节点则插入右孩子	</span></span><br><span class="line">    <span class="built_in">insert</span>(R, key);</span><br><span class="line">    <span class="keyword">if</span> (tree[R].val &gt; tree[i].val) &#123; <span class="comment">// 如果当前节点的优先级小于根节点则左旋</span></span><br><span class="line">      <span class="built_in">zag</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">pushup</span>(i);		</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">remove</span><span class="params">(<span class="type">int</span> &amp;i, <span class="type">int</span> key)</span> </span>&#123;	<span class="comment">//删除数据操作	</span></span><br><span class="line">  <span class="keyword">if</span> (!i) &#123; <span class="comment">// 如果没有节点返回空;</span></span><br><span class="line">    <span class="keyword">return</span>;	</span><br><span class="line">  &#125;			</span><br><span class="line">  <span class="keyword">if</span> (tree[i].key == key) &#123; <span class="comment">// 如果找到了这个要删除的节点</span></span><br><span class="line">    <span class="keyword">if</span> (tree[i].cnt &gt; <span class="number">1</span>) &#123; <span class="comment">//如果删除的点有重复个值则在cnt中减去</span></span><br><span class="line">      tree[i].cnt--;</span><br><span class="line">    &#125;	</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (L || R) &#123; <span class="comment">// 如果要删除的节点有左儿子或者右儿子</span></span><br><span class="line">      <span class="keyword">if</span> (!R || tree[L].val &gt; tree[R].val) &#123;	<span class="comment">//1.如果有左右儿子的话并且左儿子的优先级大于右儿子则右旋 2.如果该节点没有右儿子则右旋</span></span><br><span class="line">	<span class="built_in">zig</span>(i); <span class="comment">//先右旋后移除</span></span><br><span class="line">	<span class="built_in">remove</span>(R, key);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	<span class="built_in">zag</span>(i); <span class="comment">//否则就左旋后移除</span></span><br><span class="line">	<span class="built_in">remove</span>(L,key);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">     i = <span class="number">0</span>;</span><br><span class="line">    &#125;		</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> (tree[i].key &gt; key) &#123; <span class="comment">//如果要删的节点小于目前的节点</span></span><br><span class="line">    <span class="built_in">remove</span>(L, key); <span class="comment">// 递归左子树</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">remove</span>(R, key);	 <span class="comment">// 递归右子树</span></span><br><span class="line">  &#125;	</span><br><span class="line">  <span class="keyword">if</span> (i) &#123; <span class="comment">// 如果操作成功则重新统计节点个数</span></span><br><span class="line">    <span class="built_in">pushup</span>(i);</span><br><span class="line">  &#125;	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">kth</span><span class="params">(<span class="type">int</span> &amp;i, <span class="type">int</span> key)</span> </span>&#123; <span class="comment">// 查询当前键值key的排名</span></span><br><span class="line">  <span class="keyword">if</span> (!i) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;		</span><br><span class="line">  <span class="keyword">if</span> (tree[i].key == key) &#123; <span class="comment">// 如果节点就是当前的节点</span></span><br><span class="line">    <span class="keyword">return</span> tree[L].size + <span class="number">1</span>;		</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (tree[i].key &gt; key) &#123;  <span class="comment">// 如果节点小于当前的节点</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">kth</span>(L, key);		</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> tree[L].size + tree[i].cnt + <span class="built_in">kth</span>(R, key);		</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">find</span><span class="params">(<span class="type">int</span> &amp;i, <span class="type">int</span> rank)</span> </span>&#123;		<span class="comment">// 查询排名为rank的键值</span></span><br><span class="line">  <span class="keyword">if</span> (!i) &#123;</span><br><span class="line">    <span class="keyword">return</span> INF;			</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (tree[L].size &gt;= rank) &#123; <span class="comment">// 如果rank小于当前节点的rank，则递归左子树</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">find</span>(L, rank);	</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (tree[L].size + tree[i].cnt &gt;= rank) &#123; </span><br><span class="line">    <span class="keyword">return</span> tree[i].key;	</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">find</span>(R, rank - tree[L].size - tree[i].cnt);	 <span class="comment">// 如果当前节点的rank小于目标rank则递归右子树</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getPrev</span><span class="params">(<span class="type">int</span> &amp;i, <span class="type">int</span> key)</span> </span>&#123; <span class="comment">// 寻找key的前驱</span></span><br><span class="line">  <span class="keyword">if</span> (!i) &#123;</span><br><span class="line">    <span class="keyword">return</span> -INF;			</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (key &lt;= tree[i].key) &#123; <span class="comment">// 如果key小于当前节点的key则递归到左子树</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">getPrev</span>(L, key);	</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">max</span>(tree[i].key, <span class="built_in">getPrev</span>(R, key));	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">getNext</span><span class="params">(<span class="type">int</span> &amp;i, <span class="type">int</span> key)</span> </span>&#123;   <span class="comment">// 寻找key的后继   </span></span><br><span class="line">  <span class="keyword">if</span> (!i) &#123;</span><br><span class="line">    <span class="keyword">return</span> INF;			</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (tree[i].key &lt;= key) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">getNext</span>(R, key);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">min</span>(tree[i].key, <span class="built_in">getNext</span>(L, key));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> t;</span><br><span class="line">  cin &gt;&gt; t;</span><br><span class="line">  <span class="keyword">while</span> (t--) &#123;</span><br><span class="line">    <span class="type">int</span> k, x;</span><br><span class="line">    cin &gt;&gt; k &gt;&gt; x;</span><br><span class="line">    <span class="keyword">if</span> (k == <span class="number">1</span>) &#123;</span><br><span class="line">      <span class="built_in">insert</span>(root, x);		</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (k == <span class="number">2</span>) &#123;</span><br><span class="line">      <span class="built_in">remove</span>(root, x);		</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(k == <span class="number">3</span>) &#123;</span><br><span class="line">      cout &lt;&lt; <span class="built_in">kth</span>(root, x) &lt;&lt; endl;</span><br><span class="line">    &#125;	</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (k == <span class="number">4</span>) &#123;</span><br><span class="line">      cout &lt;&lt; <span class="built_in">find</span>(root, x) &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (k == <span class="number">5</span>) &#123;</span><br><span class="line">      cout &lt;&lt; <span class="built_in">getPrev</span>(root, x) &lt;&lt; endl;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      cout &lt;&lt; <span class="built_in">getNext</span>(root, x) &lt;&lt; endl;	</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>














      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/04/17/LG3369(Treap%E6%A0%91%E6%A8%A1%E6%9D%BF)/" data-id="clgk91jn50008aprf94qa4a9e" data-title="LG3369(Treap树模版)" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/algorithm/" rel="tag">algorithm</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-LG3383线性筛" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/04/17/LG3383%E7%BA%BF%E6%80%A7%E7%AD%9B/" class="article-date">
  <time class="dt-published" datetime="2023-04-17T02:24:04.013Z" itemprop="datePublished">2023-04-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/04/17/LG3383%E7%BA%BF%E6%80%A7%E7%AD%9B/">LG3383(线性筛)</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <span id="more"></span>

<p>日期 2022&#x2F;03&#x2F;15<br><img width="1089" alt="截屏2022-03-15 11 11 05" src="https://user-images.githubusercontent.com/73943232/158298528-f50a6185-57cb-487b-8593-5ac98308ca85.png"></p>
<p>[题目链接]<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P3383">https://www.luogu.com.cn/problem/P3383</a></p>
<h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p>题目背景</p>
<blockquote>
<p>本题已更新，从判断素数改为了查询第 k 小的素数提示：如果你使用 cin 来读入，建议使用 std::ios::sync_with_stdio(0) 来加速。<br>题目描述如题，给定一个范围 n，有 q 个询问，每次输出第 k 小的素数。</p>
<p>输入格式</p>
<p>第一行包含两个正整数n,q，分别表示查询的范围和查询的个数。接下来 q 行每行一个正整数 k，表示查询第 k 小的素数。</p>
<p>输出格式</p>
<p>输出q 行，每行一个正整数表示答案。</p>
<p>输入输出样例</p>
<p>输入 #1 </p>
<p>100 5</p>
<p>1</p>
<p>2</p>
<p>3</p>
<p>4</p>
<p>5</p>
<p>输出 #1</p>
<p>2</p>
<p>3</p>
<p>5</p>
<p>7</p>
<p>11</p>
</blockquote>
<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>这个题目是一道线性筛模板题，线性筛的时间复杂度是O(n)是目前最快的素数筛法，线性筛的原理即我们知道一个合数&#x3D;质数<em>合数或者合数&#x3D;质数</em>质数，即每一个数都是由不用的质数相乘得来的(也有<br>可能是相同质数相乘）所以，线性筛即利用质数*遍历的某数来得到筛除合数，			if (i % Prime[j] &#x3D;&#x3D; 0) {break;}而这个式子又确定了我们筛除合数是利用最小质因数来筛的，排除了一个数<br>可能被多个数筛的情况</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> INF 0x7fffffff</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> rep(x, y, z) for (int x = y; x &lt;= z; x++)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> dec(x, y, z) for (int x = y; x &gt;= z; x--)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> format(a) memset (a, 1, sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> swap(a, b) (a ^= b ^= a ^= b)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ll long long int</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ull unsigned long long int </span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> uint unsigned int</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">1e8</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"><span class="type">bool</span> isPrime[maxn];</span><br><span class="line"><span class="type">int</span> Prime[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">GetPrime</span><span class="params">(<span class="type">int</span> n)</span> </span>&#123;</span><br><span class="line">  format(isPrime);</span><br><span class="line">  isPrime[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (isPrime[i]) &#123;</span><br><span class="line">      Prime[++cnt] = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt;= cnt &amp;&amp; i * Prime[j] &lt;= n; j++) &#123;</span><br><span class="line">      isPrime[i * Prime[j]] = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">if</span> (i % Prime[j] == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span> </span>&#123;</span><br><span class="line">  ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">  cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">  <span class="type">int</span> n, q, x;</span><br><span class="line">  cin &gt;&gt; n &gt;&gt; q;</span><br><span class="line">  <span class="built_in">GetPrime</span>(n);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; q; i++) &#123;</span><br><span class="line">    cin &gt;&gt; x;</span><br><span class="line">    cout &lt;&lt; Prime[x] &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/04/17/LG3383%E7%BA%BF%E6%80%A7%E7%AD%9B/" data-id="clgk91jn60009aprf0kl7abqg" data-title="LG3383(线性筛)" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/algorithm/" rel="tag">algorithm</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-README" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/04/17/README/" class="article-date">
  <time class="dt-published" datetime="2023-04-17T02:24:04.013Z" itemprop="datePublished">2023-04-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/04/17/README/">My Blog</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <span id="more"></span>

<h2 id="Welcome-to-My-Blog"><a href="#Welcome-to-My-Blog" class="headerlink" title="Welcome to My Blog"></a>Welcome to My Blog</h2><p>I will record the accumulation of some learning in daily life here</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/04/17/README/" data-id="clgk91jn7000caprf3p4cd33g" data-title="My Blog" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/README/" rel="tag">README</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-hdu1027" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/04/17/hdu1027/" class="article-date">
  <time class="dt-published" datetime="2023-04-17T02:24:04.013Z" itemprop="datePublished">2023-04-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/04/17/hdu1027/">hdu1027</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <span id="more"></span>

<p>日期 2021 &#x2F; 10 &#x2F; 20</p>
<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p>[题目链接]<a target="_blank" rel="noopener" href="https://acm.dingbacode.com/showproblem.php?pid=1027">https://acm.dingbacode.com/showproblem.php?pid=1027</a></p>
<blockquote>
<p>Problem Description<br>Now our hero finds the door to the BEelzebub feng5166. He opens the door and finds feng5166 is about to kill our pretty Princess. But now the BEelzebub has to beat our hero first. feng5166 says, “I have three question for you, if you can work them out, I will release the Princess, or you will be my dinner, too.” Ignatius says confidently, “OK, at last, I will save the Princess.”</p>
<p>“Now I will show you the first problem.” feng5166 says, “Given a sequence of number 1 to N, we define that 1,2,3…N-1,N is the smallest sequence among all the sequence which can be composed with number 1 to N(each number can be and should be use only once in this problem). So it’s easy to see the second smallest sequence is 1,2,3…N,N-1. Now I will give you two numbers, N and M. You should tell me the Mth smallest sequence which is composed with number 1 to N. It’s easy, isn’t is? Hahahahaha……”<br>Can you help Ignatius to solve this problem?</p>
<p>Input</p>
<p>The input contains several test cases. Each test case consists of two numbers, N and M(1&lt;&#x3D;N&lt;&#x3D;1000, 1&lt;&#x3D;M&lt;&#x3D;10000). You may assume that there is always a sequence satisfied the BEelzebub’s demand. The input is terminated by the end of file.</p>
<p>Output</p>
<p>For each test case, you only have to output the sequence satisfied the BEelzebub’s demand. When output a sequence, you should print a space between two numbers, but do not output any spaces after the last number.</p>
<p>Sample Input</p>
<p>6 4</p>
<p>11 8</p>
<p>Sample Output</p>
<p>1 2 3 5 6 4</p>
<p>1 2 3 4 5 6 7 9 8 11 10</p>
</blockquote>
<h1 id="题目大意"><a href="#题目大意" class="headerlink" title="题目大意"></a>题目大意</h1><blockquote>
<p>给定n个数字，从1到n，要求输出第m小的序列</p>
</blockquote>
<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><blockquote>
<p>我们知道STL里面提供了一个下一个排列组合的函数next_permutation，这个函数是利用了全排列中按字典序进行排列并求出下一&gt; 个排列序列如果存在排列返回true否则返回false，例如abcd的下一个排列是abdc,同样的还有prev_permutation这个函数，这个是求上一个排列序列，所以我们可以&gt; 利用这一点求出答案,要求第m个小的话利用do while循环遍历到第m个并输出.</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> INF 0x7fffffff</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> rep(x, y, z) for (int x = y; x &lt;= z; x++)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> dec(x, y, z) for (int x = y; x &gt;= z; x--)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> format(a) memset (a, 0, sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> swap(a, b) (a ^= b ^= a ^= b)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ll long long int</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ull unsigned long long int </span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> uint unsigned int</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a[<span class="number">1010</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span> </span>&#123;</span><br><span class="line">  ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">  cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">  <span class="type">int</span> n, m;</span><br><span class="line">  <span class="keyword">while</span> (cin &gt;&gt; n &gt;&gt; m) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">      a[i] = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> k = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (k == m) &#123;</span><br><span class="line">	<span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      k++;</span><br><span class="line">    &#125; <span class="keyword">while</span> (<span class="built_in">next_permutation</span>(a + <span class="number">1</span>, a + n + <span class="number">1</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">      cout &lt;&lt; a[i] &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; a[n] &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/04/17/hdu1027/" data-id="clgk91jn8000eaprf7u3e34s8" data-title="hdu1027" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/algorithm/" rel="tag">algorithm</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Acwing89" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/04/17/Acwing89/" class="article-date">
  <time class="dt-published" datetime="2023-04-17T02:24:04.012Z" itemprop="datePublished">2023-04-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/04/17/Acwing89/">Acwing89</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <span id="more"></span>

<h3 id="日期-2021-x2F-10-x2F-19"><a href="#日期-2021-x2F-10-x2F-19" class="headerlink" title="日期 2021 &#x2F; 10 &#x2F; 19"></a>日期 2021 &#x2F; 10 &#x2F; 19</h3><h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p>[题目链接]<a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/91/">https://www.acwing.com/problem/content/91/</a></p>
<blockquote>
<p>求a的b次方对p取模的值。</p>
<p>输入格式</p>
<p>三个整数 a,b,p,在同一行用空格隔开。</p>
<p>输出格式</p>
<p>输出一个整数，表示a^b mod p的值。</p>
<p>数据范围</p>
<p>0≤a,b≤109</p>
<p>1≤p≤109</p>
<p>输入样例：</p>
<p>3 2 7<br>输出样例：</p>
<p>2</p>
</blockquote>
<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><blockquote>
<p>首先暴力解的话肯定会超出数据范围，所以用的是快速幂算法，我们知道任何一个正整数可以<br>唯一表示为若干指数不重复的2的次幂的和，如果要求a^b的话我们假设b为11，那么它(b)可以表示<br>为二进制为1011;x的11次方可以分解为x的1次乘x的2次再乘x的8次,我们通过对b进行&gt;&gt;运算<br>可以判断出当前位是否需要乘，从而得出答案。</p>
</blockquote>
<h2 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> INF 0x7fffffff</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> rep(x, y, z) for (int x = y; x &lt;= z; x++)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> dec(x, y, z) for (int x = y; x &gt;= z; x--)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> format(a) memset (a, 0, sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> swap(a, b) (a ^= b ^= a ^= b)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ll long long int</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ull unsigned long long int </span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> uint unsigned int</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span> </span>&#123;</span><br><span class="line">  ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">  cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">  ll a, b, c, p;</span><br><span class="line">  cin &gt;&gt; a &gt;&gt; b &gt;&gt; p;</span><br><span class="line">  c = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">while</span> (b) &#123;</span><br><span class="line">    <span class="keyword">if</span> (b &amp; <span class="number">1</span>) &#123;</span><br><span class="line">      c = c * a % p;</span><br><span class="line">    &#125;</span><br><span class="line">    a = a * a % p;</span><br><span class="line">    b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  cout &lt;&lt; c % p &lt;&lt; endl;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/04/17/Acwing89/" data-id="clgk91jmu0000aprf1jiy4nmv" data-title="Acwing89" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/algorithm/" rel="tag">algorithm</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Acwing92" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/04/17/Acwing92/" class="article-date">
  <time class="dt-published" datetime="2023-04-17T02:24:04.012Z" itemprop="datePublished">2023-04-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/04/17/Acwing92/">Acwing92</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <span id="more"></span>

<p>日期 2021 &#x2F; 10 &#x2F; 19</p>
<h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p>[题目链接]<a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/94/">https://www.acwing.com/problem/content/94/</a></p>
<blockquote>
<p>从 1∼n<br> 这 n<br>个整数中随机选取任意多个，输出所有可能的选择方案。</p>
<p>输入格式</p>
<p>输入一个整数 n</p>
<p>输出格式</p>
<p>每行输出一种方案。</p>
<p>同一行内的数必须升序排列，相邻两个数用恰好 1个空格隔开。<br>对于没有选任何数的方案，输出空行。<br>本题有自定义校验器（SPJ），各行（不同方案）之间的顺序任意。</p>
<p>数据范围</p>
<p>1≤n≤15</p>
<p>输入样例：</p>
<p>3<br>输出样例：</p>
<p>3<br>2<br>2 3<br>1<br>1 3<br>1 2<br>1 2 3</p>
</blockquote>
<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><blockquote>
<p>这个是一个dfs类型的题，题目大意就是选择n，然后需要你找出1~n里面的所有排列情况<br>利用dfs我们可以从1开始枚举，对于下一个我们可以有两种选择，一是选择它放进此排列<br>中，另一种自然是不放入，当前枚举的数字大于n的时候停止，然后输出这个排列，这样<br>从1开始枚举的话就不需要担心乱序的情况。</p>
</blockquote>
<h2 id="代码演示"><a href="#代码演示" class="headerlink" title="代码演示"></a>代码演示</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> INF 0x7fffffff</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> rep(x, y, z) for (int x = y; x &lt;= z; x++)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> dec(x, y, z) for (int x = y; x &gt;= z; x--)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> format(a) memset (a, 0, sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> swap(a, b) (a ^= b ^= a ^= b)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ll long long int</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ull unsigned long long int </span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> uint unsigned int</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> used[<span class="number">21</span>];</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (u &gt; n) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">      <span class="keyword">if</span> (used[i] == <span class="number">1</span>) &#123;</span><br><span class="line">        cout &lt;&lt; i &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  used[u] = <span class="number">1</span>;</span><br><span class="line">  <span class="built_in">dfs</span>(u + <span class="number">1</span>);</span><br><span class="line">  used[u] = <span class="number">0</span>;	</span><br><span class="line">  used[u] = <span class="number">2</span>;</span><br><span class="line">  <span class="built_in">dfs</span>(u + <span class="number">1</span>);</span><br><span class="line">  used[u] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span> </span>&#123;</span><br><span class="line">  ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">  cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">  cin &gt;&gt; n;</span><br><span class="line">  <span class="built_in">dfs</span>(<span class="number">1</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/04/17/Acwing92/" data-id="clgk91jmy0001aprf563292fz" data-title="Acwing92" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/algorithm/" rel="tag">algorithm</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-C++ 重载符号以及自定义排序" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/04/17/C++%20%E9%87%8D%E8%BD%BD%E7%AC%A6%E5%8F%B7%E4%BB%A5%E5%8F%8A%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8E%92%E5%BA%8F/" class="article-date">
  <time class="dt-published" datetime="2023-04-17T02:24:04.012Z" itemprop="datePublished">2023-04-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/04/17/C++%20%E9%87%8D%E8%BD%BD%E7%AC%A6%E5%8F%B7%E4%BB%A5%E5%8F%8A%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8E%92%E5%BA%8F/">C++重载符号以及自定义排序</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <span id="more"></span>

<h1 id="问题引入"><a href="#问题引入" class="headerlink" title="问题引入"></a>问题引入</h1><blockquote>
<p>每次写关于容器排序的题目的时候我都是不知道怎么去排序，比如map里面的怎么按照key排序或者按照value排序，虽然之前有看过需要重载符号，但是我一直都不知道到底什么是重载符号以及它有什么作用，今天我查阅了很多资料终于搞懂了这个困扰我已久的问题，以下就讲了怎么去自定义排序。</p>
</blockquote>
<h1 id="重载定义"><a href="#重载定义" class="headerlink" title="重载定义"></a>重载定义</h1><blockquote>
<p>C++ 允许在同一作用域中的某个函数和运算符指定多个定义，分别称为函数重载和运算符重载。<br>重载声明是指一个与之前已经在该作用域内声明过的函数或方法具有相同名称的声明，但是它们的参数列表和定义（实现）不相同。<br>当您调用一个重载函数或重载运算符时，编译器通过把您所使用的参数类型与定义中的参数类型进行比较，决定选用最合适的定义。选择最合适的重载函数或重载运算符的过程，称为重载决策。</p>
</blockquote>
<h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><blockquote>
<p>在讲自定义排序之前我们需要知道在C++容器中(vector, list ,deque)这种容器叫线性容器，(map,set)这种容器叫做集合容器，sort算法只能对于线性容器进行排序，所以我们不能使用sort去对集合容器进行排序，map里面存储的元素是pair，不是线性存储的，它是的底层是红黑树，所以对于map的排序我们得把map中的元素放到线性容器(比如vector)中，然后利用vector再对元素进行排序，并且得满足容器中的元素是可比较的，一般对于自定义排序我们需要对符号进行重载,经过代码测试，我知道map默认是按照key的升序进行排列的(set也是)，value的排列的随机的(按照插入的顺序)，当在map&lt;string, int, greater &lt; string &gt; &gt;加入了greater &lt; string &gt; 以后会进行key的降序排列，map的默认定义时是map&lt;string, int ,less &lt; string &gt; &gt;是这样的(即默认是按照key升序排列的)，less&lt;类型名&gt;代表升序，而greater&lt;类型名&gt;代表降序.</p>
</blockquote>
<h1 id="博客参考"><a href="#博客参考" class="headerlink" title="博客参考"></a>博客参考</h1><p>  [博客链接]<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_30603195/article/details/86660263?spm=1001.2101.3001.6650.1&amp;utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~default-1.tagcolumn&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~default-1.tagcolumn">https://blog.csdn.net/qq_30603195/article/details/86660263?spm=1001.2101.3001.6650.1&amp;utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7Edefault-1.tagcolumn&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7Edefault-1.tagcolumn</a></p>
<blockquote>
<p>STL所提供的各式各样算法中，sort()是最复杂最庞大的一个。这个算法接受两个RandomAccestlerators（随机存取迭代器），然后将区间内的所有元素以渐增方式由小到大重新排列。第二个版本则允许用户指定一个仿函数（functor），作为排序标准，STL的所有关系型容器主要包括set和map这两种容器（associative containers）都拥有自动排序功能（底层结构采用RB-tree，所以不需要用到这个sort算法。至于序列式容器（squence containers）中的 stack、queue 和priority-queue都有特别的出入口，不允许用户对元素排序。剩下vector.deque和list，前两者的迭代器属于RandomAccessiterators，适合使用sort算法，list的迭代器则属于Bidirectioinallterators,适合使用sort算法.list的迭代器则属于Bidirectionallterators,不在STL标准之列的slist,其迭代器更属于ForwardIIterators,不在STL标准之列的slist,其迭代器更属于ForwardIIterators,都不适用与sort算法，如果要对list或slist排序，应该使用它们自己提供的member functions sort().</p>
<p>  [博客链接]<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_30603195/article/details/86660263?spm=1001.2101.3001.6650.1&amp;utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~default-1.tagcolumn&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~default-1.tagcolumn">https://blog.csdn.net/qq_30603195/article/details/86660263?spm=1001.2101.3001.6650.1&amp;utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7Edefault-1.tagcolumn&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7ECTRLIST%7Edefault-1.tagcolumn</a></p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;map&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">tagIntPlus</span> &#123;</span><br><span class="line">  <span class="type">int</span> num, i;</span><br><span class="line">&#125; IntPlus;</span><br><span class="line"><span class="comment">//自定义比较规则</span></span><br><span class="line"><span class="comment">//注意operator是(),不是＜</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Cmp</span> &#123;</span><br><span class="line">  <span class="function"><span class="type">bool</span> <span class="title">operator</span> <span class="params">()</span> <span class="params">(IntPlus <span class="type">const</span> &amp;a,IntPlus <span class="type">const</span> &amp;b)</span><span class="type">const</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(a.num != b.num) &#123;</span><br><span class="line">      <span class="keyword">return</span> a.num &lt; b.num;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> a.i&lt;b.i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">srand</span>((<span class="type">unsigned</span>)<span class="built_in">time</span>(<span class="literal">NULL</span>));</span><br><span class="line">  <span class="comment">//注意此处一定要有Cmp，否则无法排序会报错</span></span><br><span class="line">  multimap&lt;IntPlus, <span class="type">int</span>, Cmp&gt; mp;</span><br><span class="line">  <span class="type">int</span> n;</span><br><span class="line">  cin &gt;&gt; n;</span><br><span class="line">  <span class="type">int</span> a,b;</span><br><span class="line">  IntPlus intplus;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    a = <span class="built_in">rand</span>() % <span class="number">4</span>;</span><br><span class="line">    b = <span class="built_in">rand</span>() % <span class="number">4</span>;</span><br><span class="line">    intplus.num = a;</span><br><span class="line">    intplus.i = b;</span><br><span class="line">    mp.<span class="built_in">insert</span>(<span class="built_in">pair</span>&lt;IntPlus,<span class="type">int</span>&gt;(intplus, i));</span><br><span class="line">  &#125;</span><br><span class="line">  map&lt;IntPlus,<span class="type">int</span>&gt;::iterator iter;</span><br><span class="line">  <span class="keyword">for</span> (iter = mp.<span class="built_in">begin</span>(); iter != mp.<span class="built_in">end</span>(); iter++) &#123;</span><br><span class="line">    cout &lt;&lt; iter-&gt;first.num &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; iter-&gt;first.i &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; iter-&gt;second &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<img width="667" alt="截屏2021-10-22 01 26 29" src="https://user-images.githubusercontent.com/73943232/138327345-95ea1713-2dd9-40f7-ad28-8ec6ddd7d08b.png">

<h1 id="笔记"><a href="#笔记" class="headerlink" title="笔记"></a>笔记</h1><h2 id="map构造排序"><a href="#map构造排序" class="headerlink" title="map构造排序"></a>map构造排序</h2><blockquote>
<p>所谓的构造排序就是指在容器构造时进行排序，STL里面提供了两个函数less&lt;类型名&gt;，greater&lt;类型名&gt;,less代表的是升序排序，这个是默认的排序，而greater<br>代表的是降序排序，可以是对key的排序也可以是对value的排序,需要注意的是无论是greater还是less都只能写一个(写成map&lt;类型名， 类型名， greater&lt;类型名&gt;，greater&lt;类型名&gt; &gt;这样是会报错的).</p>
</blockquote>
 <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span> </span>&#123;</span><br><span class="line">  ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">  cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">  map&lt;string, <span class="type">int</span>, greater&lt;string&gt; &gt; m;</span><br><span class="line">  map&lt;string, <span class="type">int</span>, less&lt;string&gt; &gt; m1;</span><br><span class="line">  map&lt;string, <span class="type">int</span>, greater&lt;<span class="type">int</span>&gt; &gt; m2;</span><br><span class="line">  map&lt;string, <span class="type">int</span>, less&lt;<span class="type">int</span>&gt; &gt; m3;</span><br><span class="line">  map&lt;string, <span class="type">int</span>&gt; m4;</span><br><span class="line">  m[<span class="string">&quot;cs&quot;</span>] = <span class="number">3</span>;</span><br><span class="line">  m[<span class="string">&quot;ds&quot;</span>] = <span class="number">2</span>;</span><br><span class="line">  m[<span class="string">&quot;as&quot;</span>] = <span class="number">1</span>;</span><br><span class="line">  map&lt;string,<span class="type">int</span>&gt;::iterator it = m.<span class="built_in">begin</span>();</span><br><span class="line">  <span class="keyword">while</span> (it != m.<span class="built_in">end</span>()) &#123;</span><br><span class="line">    cout &lt;&lt; it-&gt;first &lt;&lt;  <span class="string">&quot; &quot;</span> &lt;&lt; it-&gt;second &lt;&lt; endl;</span><br><span class="line">    it++;</span><br><span class="line">  &#125;	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="map自定义排序-博客那篇的代码"><a href="#map自定义排序-博客那篇的代码" class="headerlink" title="map自定义排序(博客那篇的代码)"></a>map自定义排序(博客那篇的代码)</h2><blockquote>
<p> 我们知道map里面储存的元素是pair，类似于结构体.可以看出key.num相同时是按照num.i的升序进行排列，至于int的值则是按照插入的顺序进行排列的，这里重载<br> 的是（）号，并且a.num &lt; b.num是表示的是升序，这个排序方向和我之前在重载&lt;符号的时候刚刚好是相反的.(即重载&lt;号的时候x&lt;y代表的是降序)，这里我用的随机数进行的测试<br>  如果我也想对插入的i也进行排序呢？</p>
</blockquote>
 <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span> <span class="comment">// map按值value排序</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">Mixficsol</span> &#123;</span><br><span class="line">  <span class="type">int</span> num;</span><br><span class="line">  <span class="type">int</span> i;</span><br><span class="line">&#125; Mix;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;Mix,<span class="type">int</span>&gt; PAIR;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Cmp</span> &#123;</span><br><span class="line">  <span class="function"><span class="type">bool</span> <span class="title">operator</span> <span class="params">()</span> <span class="params">(Mix <span class="type">const</span> &amp;a, Mix <span class="type">const</span> &amp;b)</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (a.num != b.num) &#123;</span><br><span class="line">      <span class="keyword">return</span> a.num &lt; b.num; <span class="comment">// key.num按照正序排列</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> a.i &gt; b.i; <span class="comment">// num相同按照key.i正序排列</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span> </span>&#123;</span><br><span class="line">  ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">  cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">  <span class="built_in">srand</span>((<span class="type">unsigned</span>)<span class="built_in">time</span>(<span class="literal">NULL</span>));</span><br><span class="line">  multimap&lt;Mix,<span class="type">int</span>,Cmp&gt; mp;</span><br><span class="line">  <span class="type">int</span> n, a, b;</span><br><span class="line">  cin &gt;&gt; n;</span><br><span class="line">  Mix M;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    a = <span class="built_in">rand</span>() % <span class="number">4</span>;</span><br><span class="line">    b = <span class="built_in">rand</span>() % <span class="number">4</span>;</span><br><span class="line">    M.num = a;</span><br><span class="line">    M.i = b;</span><br><span class="line">    mp.<span class="built_in">insert</span>(<span class="built_in">pair</span>&lt;Mix,<span class="type">int</span>&gt;(M,i));</span><br><span class="line">  &#125;</span><br><span class="line">  map&lt;Mix,<span class="type">int</span>&gt;::iterator iter;</span><br><span class="line">  cout &lt;&lt; <span class="string">&quot;排序后: &quot;</span> &lt;&lt; endl;</span><br><span class="line">  <span class="keyword">for</span> (iter = mp.<span class="built_in">begin</span>(); iter != mp.<span class="built_in">end</span>(); iter++) &#123;</span><br><span class="line">    cout &lt;&lt; iter-&gt;first.num &lt;&lt; <span class="string">&quot; | &quot;</span> &lt;&lt; iter-&gt;first.i &lt;&lt; <span class="string">&quot; | &quot;</span> &lt;&lt; iter-&gt;second &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<img width="927" alt="截屏2021-10-22 11 34 12" src="https://user-images.githubusercontent.com/73943232/138389292-0909b573-dcb7-4051-9492-10f341b69bcc.png">



<h2 id="map结构体排序"><a href="#map结构体排序" class="headerlink" title="map结构体排序"></a>map结构体排序</h2><blockquote>
<p>之前说过map属于集合容器是不能进行sort排序的，要排序的话得用vector进行排序，这里就用到了vector，我们去定义一个bool cmp去设置我们需要的排序方式<br> (bool cmp一般是放在sort里面的，而struct cmp是放在构造容器时里面的）我们把map放进vector里面然后排序就得到了结果.</p>
</blockquote>
 <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span> <span class="comment">// map按值value排序</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">Mixficsol</span> &#123;</span><br><span class="line">  <span class="type">int</span> num;</span><br><span class="line">  <span class="type">int</span> i;</span><br><span class="line">&#125; Mix;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> pair&lt;Mix,<span class="type">int</span>&gt; PAIR;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Cmp</span> &#123;</span><br><span class="line">  <span class="function"><span class="type">bool</span> <span class="title">operator</span> <span class="params">()</span> <span class="params">(Mix <span class="type">const</span> &amp;a, Mix <span class="type">const</span> &amp;b)</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (a.num != b.num) &#123;</span><br><span class="line">      <span class="keyword">return</span> a.num &lt; b.num; <span class="comment">// key.num按照正序排列</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> a.i &lt; b.i; <span class="comment">// num相同按照key.i正序排列</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(PAIR <span class="type">const</span> &amp;a, PAIR <span class="type">const</span> &amp;b)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (a.first.num != b.first.num) &#123;</span><br><span class="line">    <span class="keyword">return</span> a.first.num &lt; b.first.num;</span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">     <span class="keyword">if</span> (a.first.i != b.first.i) &#123;</span><br><span class="line">       <span class="keyword">return</span> a.first.i &lt; b.first.i;</span><br><span class="line">     &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">       <span class="keyword">return</span> a.second &gt; b.second; <span class="comment">//key值相同按照value(i)倒序排列</span></span><br><span class="line">     &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span> </span>&#123;</span><br><span class="line">  ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">  cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">  <span class="built_in">srand</span>((<span class="type">unsigned</span>)<span class="built_in">time</span>(<span class="literal">NULL</span>));</span><br><span class="line">  multimap&lt;Mix,<span class="type">int</span>,Cmp&gt; mp;</span><br><span class="line">  <span class="type">int</span> n, a, b;</span><br><span class="line">  cin &gt;&gt; n;</span><br><span class="line">  Mix M;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    a = <span class="built_in">rand</span>() % <span class="number">4</span>;</span><br><span class="line">    b = <span class="built_in">rand</span>() % <span class="number">4</span>;</span><br><span class="line">    M.num = a;</span><br><span class="line">    M.i = b;</span><br><span class="line">    mp.<span class="built_in">insert</span>(<span class="built_in">pair</span>&lt;Mix,<span class="type">int</span>&gt;(M,i));</span><br><span class="line">  &#125;</span><br><span class="line">  map&lt;Mix,<span class="type">int</span>&gt;::iterator iter;</span><br><span class="line">  cout &lt;&lt; <span class="string">&quot;排序前: &quot;</span> &lt;&lt; endl;</span><br><span class="line">  <span class="keyword">for</span> (iter = mp.<span class="built_in">begin</span>(); iter != mp.<span class="built_in">end</span>(); iter++) &#123;</span><br><span class="line">    cout &lt;&lt; iter-&gt;first.num &lt;&lt; <span class="string">&quot; | &quot;</span> &lt;&lt; iter-&gt;first.i &lt;&lt; <span class="string">&quot; | &quot;</span> &lt;&lt; iter-&gt;second &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">  cout &lt;&lt; <span class="string">&quot;排序后: &quot;</span> &lt;&lt; endl;</span><br><span class="line">  <span class="function">vector&lt;PAIR&gt; <span class="title">v</span><span class="params">(mp.begin(), mp.end())</span></span>;</span><br><span class="line">  <span class="built_in">sort</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), cmp);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; v.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">    cout &lt;&lt; v[i].first.num &lt;&lt; <span class="string">&quot; | &quot;</span> &lt;&lt; v[i].first.i &lt;&lt; <span class="string">&quot; | &quot;</span> &lt;&lt; v[i].second &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img width="969" alt="截屏2021-10-22 11 35 08" src="https://user-images.githubusercontent.com/73943232/138389364-81857b7f-d1d1-439c-b9f2-4f524c3221b6.png">


<h2 id="set构造排序"><a href="#set构造排序" class="headerlink" title="set构造排序"></a>set构造排序</h2><blockquote>
<p>set的构造排序和map一样，这里就不说了下面有两个例子</p>
</blockquote>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span> </span>&#123;</span><br><span class="line">  ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">  cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">  <span class="built_in">srand</span>((<span class="type">unsigned</span>)<span class="built_in">time</span>(<span class="literal">NULL</span>));</span><br><span class="line">  <span class="type">int</span> a;</span><br><span class="line">  set&lt;<span class="type">int</span>&gt; s;</span><br><span class="line">  set&lt;<span class="type">int</span>, less&lt;<span class="type">int</span>&gt; &gt; s1;</span><br><span class="line">  set&lt;<span class="type">int</span>, greater&lt;<span class="type">int</span>&gt; &gt; s2;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">    a = <span class="built_in">rand</span>() % <span class="number">4</span>;</span><br><span class="line">    s.<span class="built_in">insert</span>(a);</span><br><span class="line">  &#125;</span><br><span class="line">  set&lt;<span class="type">int</span>&gt;::iterator iter;</span><br><span class="line">  <span class="keyword">for</span> (iter = s.<span class="built_in">begin</span>(); iter != s.<span class="built_in">end</span>(); iter++) &#123;</span><br><span class="line">    cout &lt;&lt; *iter &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">cmp</span><span class="params">(string <span class="type">const</span>&amp; a, string <span class="type">const</span>&amp; b)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> a.<span class="built_in">size</span>() &gt; b.<span class="built_in">size</span>();	  <span class="comment">// 按照字符串的大小进行倒序排列即size大的排列在前面</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span> </span>&#123;</span><br><span class="line">  ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">  cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">  set&lt;string, greater&lt;string&gt; &gt; s; <span class="comment">// 按照string的字典序倒序排列</span></span><br><span class="line">  set&lt;string, less&lt;string&gt; &gt; s1; <span class="comment">// 按照string的字典序顺序排列(默认是使用less)</span></span><br><span class="line">  set&lt;string&gt; s2; <span class="comment">// 按照string的字典序顺序排列	</span></span><br><span class="line">  s.<span class="built_in">insert</span>(<span class="string">&quot;abcd&quot;</span>);</span><br><span class="line">  s.<span class="built_in">insert</span>(<span class="string">&quot;dcba&quot;</span>);</span><br><span class="line">  s.<span class="built_in">insert</span>(<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">  <span class="function">vector&lt;string&gt; <span class="title">v</span><span class="params">(s.begin(),s.end())</span></span>; <span class="comment">// 由于set不是顺序容器所以得先存入vector进行排序</span></span><br><span class="line">  <span class="built_in">sort</span>(v.<span class="built_in">begin</span>(), v.<span class="built_in">end</span>(), cmp);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; v.<span class="built_in">size</span>(); i++) &#123;</span><br><span class="line">    cout &lt;&lt; v[i] &lt;&lt; endl;  <span class="comment">// 最终的排序结果是字符串大的排列在最前面，字符串长度一样的按照字典序进行倒序排列</span></span><br><span class="line">  &#125;</span><br><span class="line">  cout &lt;&lt; s.<span class="built_in">size</span>() &lt;&lt; endl;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h2><blockquote>
<p>为了检测自己是否真的弄懂了，我想了个题目，就是学生成绩进行排序，我的想法是成绩按照倒序排列就是成绩高的学生在前面，成绩相同就按照名字的长度进行<br> 排序，名字长度大的在前面，名字长度一样的就按照名字的字典序排序，下面就是我写的代码</p>
</blockquote>
 <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> INF 0x7fffffff</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> rep(x, y, z) for (int x = y; x &lt;= z; x++)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> dec(x, y, z) for (int x = y; x &gt;= z; x--)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> format(a) memset (a, 0, sizeof(a))</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> swap(a, b) (a ^= b ^= a ^= b)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ll long long int</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ull unsigned long long int </span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> uint unsigned int</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">struct</span> <span class="title class_">student</span> &#123;</span><br><span class="line">  <span class="type">int</span> grade;</span><br><span class="line">  string name;</span><br><span class="line">&#125;stu;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">cmp</span> &#123;</span><br><span class="line">  <span class="function"><span class="type">bool</span> <span class="title">operator</span> <span class="params">()</span> <span class="params">(stu <span class="type">const</span> &amp;a, stu <span class="type">const</span> &amp;b)</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (a.grade != b.grade) &#123;</span><br><span class="line">      <span class="keyword">return</span> a.grade &gt; b.grade; <span class="comment">// 成绩按照倒序排列</span></span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (a.name.<span class="built_in">size</span>() != b.name.<span class="built_in">size</span>()) &#123; <span class="comment">// 成绩一样按照名字长度排序,长度大的排在前面</span></span><br><span class="line">      <span class="keyword">return</span> a.name.<span class="built_in">size</span>() &gt; b.name.<span class="built_in">size</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> a.name &lt; b.name; <span class="comment">// 长度一样按照字典序排序，字典序小的排在前面</span></span><br><span class="line">    &#125; </span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span> </span>&#123;</span><br><span class="line">  ios_base::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">  cin.<span class="built_in">tie</span>(<span class="literal">nullptr</span>);</span><br><span class="line">  <span class="type">int</span> n;</span><br><span class="line">  stu Stu;</span><br><span class="line">  cin &gt;&gt; n;</span><br><span class="line">  set&lt;stu,cmp&gt; s;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">    cin &gt;&gt; Stu.name &gt;&gt; Stu.grade;</span><br><span class="line">    s.<span class="built_in">insert</span>(Stu);</span><br><span class="line">  &#125;</span><br><span class="line">  set&lt;stu,cmp&gt;::iterator iter;</span><br><span class="line">  <span class="keyword">for</span> (iter = s.<span class="built_in">begin</span>(); iter != s.<span class="built_in">end</span>(); iter++) &#123;</span><br><span class="line">    cout &lt;&lt; iter-&gt;name &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; iter-&gt;grade &lt;&lt; endl;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img width="963" alt="截屏2021-10-22 11 37 26" src="https://user-images.githubusercontent.com/73943232/138389589-4ccb162b-a0de-4e90-aca3-8124720133ff.png">


<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><blockquote>
<p>对于关联容器的排序可以说今天算搞懂了吧，有几个要注意的点是</p>
<p>1.bool cmp是放在sort里面的，而sturct cmp是放在构造容器时里面的</p>
<p>2.less是升序，greater是降序</p>
<p>3.less和greater在构造容器时只能写入一个</p>
<p>4.重载&lt;和重载()所对应的X &lt; Y排序不同，在重载&lt;时，x &lt; y代表是升序，而在重载()时x &lt; y代表的是降序</p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/04/17/C++%20%E9%87%8D%E8%BD%BD%E7%AC%A6%E5%8F%B7%E4%BB%A5%E5%8F%8A%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8E%92%E5%BA%8F/" data-id="clgk91jn20004aprfer6z3b24" data-title="C++重载符号以及自定义排序" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/blog/" rel="tag">blog</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-hello-world" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/04/16/hello-world/" class="article-date">
  <time class="dt-published" datetime="2023-04-16T02:47:30.998Z" itemprop="datePublished">2023-04-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2023/04/16/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <span id="more"></span>

<p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2023/04/16/hello-world/" data-id="clgk91jnn001vaprf2whu889q" data-title="Hello World" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/3/">&laquo; Prev</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/README/" rel="tag">README</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/algorithm/" rel="tag">algorithm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog/" rel="tag">blog</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/README/" style="font-size: 10px;">README</a> <a href="/tags/algorithm/" style="font-size: 20px;">algorithm</a> <a href="/tags/blog/" style="font-size: 15px;">blog</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">April 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/04/17/poj2418(map%E8%BE%93%E5%87%BA%E5%AD%97%E7%AC%A6%E4%B8%B2)/">poj2418(map输出字符串)</a>
          </li>
        
          <li>
            <a href="/2023/04/17/poj3041%E5%8C%88%E7%89%99%E5%88%A9%E7%AE%97%E6%B3%95%E6%9C%80%E5%B0%8F%E8%B7%AF%E5%BE%84%E8%A6%86%E7%9B%96/">poj3041</a>
          </li>
        
          <li>
            <a href="/2023/04/17/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0/">数据库连接池</a>
          </li>
        
          <li>
            <a href="/2023/04/17/%E9%93%BE%E5%BC%8F%E5%89%8D%E5%90%91%E6%98%9F%E5%AD%98%E5%9B%BE/">链式前向星存图</a>
          </li>
        
          <li>
            <a href="/2023/04/17/hdu2193(AVL%E6%A0%91%E7%9A%84%E9%AB%98%E5%BA%A6)/">hdu2193(AVL树的高度)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>